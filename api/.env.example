# =============================================================================
# OTEL E-COMMERCE API - ENVIRONMENT VARIABLES
# =============================================================================

# -----------------------------------------------------------------------------
# MODE SELECTION: Choose how telemetry is sent to Sentry
# -----------------------------------------------------------------------------
# Options:
#   direct    = App sends data directly to Sentry (recommended for most users)
#   collector = App sends data to local OTEL Collector, which forwards to Sentry
#
# To switch modes, run:
#   npm run mode:direct    (or from root: npm run mode:direct)
#   npm run mode:collector (or from root: npm run mode:collector)
# -----------------------------------------------------------------------------

OTEL_MODE=direct

# -----------------------------------------------------------------------------
# SERVICE IDENTIFICATION
# -----------------------------------------------------------------------------

OTEL_SERVICE_NAME=sentry-build-otlp-workshop-api

# -----------------------------------------------------------------------------
# DIRECT MODE CONFIGURATION (used when OTEL_MODE=direct)
# -----------------------------------------------------------------------------
# How to get these values:
#   1. Go to Sentry: Settings > Projects > [Your Project] > Client Keys (DSN)
#   2. Click on a DSN, then scroll to "OTLP Configuration"
#   3. Copy the endpoint URL and public key
#
# Format:
#   Endpoint: https://[ORG-ID].ingest.[REGION].sentry.io/api/[PROJECT-ID]/integration/otlp/v1/traces
#   Headers:  x-sentry-auth=sentry sentry_key=[YOUR_PUBLIC_KEY]
# -----------------------------------------------------------------------------

OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PROJECT-ID/integration/otlp/v1/traces
OTEL_EXPORTER_OTLP_TRACES_HEADERS=x-sentry-auth=sentry sentry_key=YOUR_PUBLIC_KEY

# Optional: Also send logs to Sentry (same endpoint pattern, just change /traces to /logs)
OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PROJECT-ID/integration/otlp/v1/logs
OTEL_EXPORTER_OTLP_LOGS_HEADERS=x-sentry-auth=sentry sentry_key=YOUR_PUBLIC_KEY

# -----------------------------------------------------------------------------
# COLLECTOR MODE CONFIGURATION (used when OTEL_MODE=collector)
# -----------------------------------------------------------------------------
# Only needed if you're using the OTEL Collector for advanced use cases.
# Start collector with: npm run collector:start (or from root)
#
# The collector needs these values in collector-config.yaml:
#   - Same Sentry endpoint (without /v1/traces or /v1/logs)
#   - Same auth header format
# -----------------------------------------------------------------------------

# Uncomment these if using collector mode:
# OTEL_EXPORTER_OTLP_ENDPOINT=https://YOUR-ORG-ID.ingest.us.sentry.io/api/YOUR-PROJECT-ID/integration/otlp
# SENTRY_AUTH_HEADER=sentry sentry_key=YOUR_PUBLIC_KEY,sentry_version=7

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

NODE_ENV=development
PORT=3000

# =============================================================================
# DATABASE (PostgreSQL via Neon)
# =============================================================================
# Get from: https://console.neon.tech
#   1. Select your project
#   2. Go to "Connection Details"
#   3. Copy the connection string
#
# Or run: npx neondb -y
#   (This will auto-create a database and add the URL to this file)
# =============================================================================

DATABASE_URL=postgresql://YOUR_USER:YOUR_PASSWORD@YOUR_HOST.neon.tech/neondb?sslmode=require
